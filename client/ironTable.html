<template name="ironTable">
    <div class="container iron-table-container">
        {{#if goBackPath}}
           <span class="back-button">
                <a class="btn btn-link" href={{pathFor goBackPath}}>
                    <i class="fa fa-chevron-circle-left fa-lg"></i>
                </a>
            </span>
        {{/if}}
        <h3>{{tableTitle}}</h3>

        {{#if haveData}}

            {{> ironTableNav}}

            <table class="table table-striped table-hover table-condensed">
                <thead>
                    <tr>
                        {{#each headers}}
                            {{> ironTableHeader}}
                        {{/each}}
                        <th class="controls-header">

                        </th>
                    </tr>
                </thead>

                <tbody>
                    {{#each records}}
                        <tr>
                            {{> ironTableRow}}
                        </tr>
                    {{/each}}
                </tbody>

            </table>

        {{else}}
            <div class="alert alert-warning">No {{capitalize recordName}}s !</div>
        {{/if}}
    
    </div>
</template>

<template name="ironTableNav">
    <div class="pull-left">
        <strong>Displaying {{recordDisplayStart}} - {{recordDisplayStop}} out of {{recordCount}} {{recordName}}s</strong>
    </div>
    <div class="pull-right">
        <a class="btn btn-default btn-sm {{previousPathClass}}" href="{{previousPath}}"
            title="previous record set" rel='tooltip'>
            <i class="fa fa-chevron-left"></i>
        </a> 
        <a class="btn btn-default btn-sm {{nextPathClass}}" href="{{nextPath}}"
            title="next record set" rel='tooltip'>
            <i class="fa fa-chevron-right"></i>
        </a>
    </div>
</template>

<template name="ironTableHeader">
    <th>
        <a class="table-col-head" href="?sort_on={{key}}&sort_direction={{sortDirection}}"
            {{#if sort}}
                title="Reverse sort order"
            {{else}}
                title="Sort on {{capitalize colName}}"
            {{/if}} 
            rel='tooltip'>
            {{capitalize colName}} 
            {{#if sort}}<i class="fa fa-chevron-circle-{{#if desc}}down{{else}}up{{/if}}"></i>{{/if}}
        </a>
    </th>
</template>

<template name="ironTableRow">
    {{#each colData}}
        <td>
            {{#if aLink}}
                <a href="{{aLink}}" {{#if title}}title='{{title}}' rel='tooltip'{{/if}}>     {{value}}
                </a>
            {{else}}
                {{{value}}
            {{/if}}
        </td>
    {{/each}}
    <td class="controls">
        {{#if editOk}}
            <a class="btn btn-link iron-table-edit-record" title='Edit Record' rel='tooltip'>
                <i class="fa fa-pencil-square-o"></i>
            </a>            
        {{/if}}
        {{#if deleteOk}}
            <a class="btn btn-link iron-table-delete-record" title='Delete Record' rel='tooltip'>
                <i class="fa fa-trash-o"></i>
            </a>            
        {{/if}}
    </td>
</template>





